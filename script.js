document.getElementById('startButton').addEventListener('click', function() {
    startTimer();
    startExercise();
});

let wordSlot = document.getElementById("wordSlot");
let visualInterval;
let timerInterval;
let originalWords = [
    "45789", "12345", "67890", "54321", "09876", "13579", "24680", "13568", "86420", "97531", "86420", "12345", "56789", "67890", "98765", "43210", "56789", "12345", "67890", "13579", "24680", "13568", "97531", "86420", "43210", "24680", "13579", "86420", "54321", "67890", "98765", "12345", "56789", "67890", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "98765", "12345", "86420", "43210", "13579", "97531", "24680", "12345", "67890", "56789", "09876", "54321", "13579", "24680", "86420", "97531", "12345", "67890", "13568", "54321", "43210", "98765", "86420", "24680", "13579", "54321", "09876", "56789", "12345", "67890", "98765", "13579", "86420", "43210", "54321", "24680", "98765", "13579", "86420", "56789", "67890", "12345", "09876", "54321", "13579", "97531", "86420", "43210", "56789", "67890", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", "24680", "86420", "97531", "43210", "56789", "67890", "13568", "54321", "09876", "13579", 
];
function startExercise() {
    
    // Ocultar instrucciones y botones
    var instructionParagraphs = document.querySelectorAll('.instruction');
    for (var i = 0; i < instructionParagraphs.length; i++) {
        instructionParagraphs[i].style.display = 'none';
    }
    document.getElementById('startButton').style.display = 'none';
    document.getElementById('containerInputButton').style.display = 'none';
    
    // Mostrar la ranura
    document.getElementById('slotContainer').classList.remove('hidden');
    
    // Obtener la velocidad del recorrido desde el campo de entrada
    var speedInput = document.getElementById('speedInput');
    var velocidadRecorrido = parseInt(speedInput.value);
    
    // Iniciar temporizador
    
    // Iniciar el recorrido visual
    startVisualRecorrido(velocidadRecorrido);
}

function startVisualRecorrido(velocidadRecorrido) {
    var wordIndex = 0;
    clearInterval(visualInterval);
    
    visualInterval = setInterval(function() {
        // Mostrar la palabra en la ranura central
        wordSlot.innerHTML = ''; // Limpiar ranura
        var p = document.createElement('p');
        p.textContent = originalWords[wordIndex];
        wordSlot.appendChild(p);
        
        // Incrementar el índice de las palabras
        wordIndex++;
        if (wordIndex >= originalWords.length) {
            wordIndex = 0;
        }
    }, velocidadRecorrido);
}

function startTimer() {
    var timerElement = document.getElementById('timer');
    var totalTime = 180; // 3 minutos en segundos
    var minutes, seconds;
    
    timerInterval = setInterval(function() {
        minutes = Math.floor(totalTime / 60);
        seconds = totalTime % 60;
        timerElement.innerHTML = 'Tiempo restante: ' + minutes + ':' + (seconds < 10 ? '0' : '') + seconds;

        if (totalTime <= 0) {
            clearInterval(timerInterval);
            clearInterval(visualInterval);
            alert('¡El ejercicio ha terminado!');
            return;
        }
        totalTime--;
    }, 1000);
}

